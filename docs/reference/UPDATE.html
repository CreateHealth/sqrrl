<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create <code>UPDATE</code> SQL statement ‚Äî UPDATE ‚Ä¢ sqrrl</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">üêø sqrrl</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/sqrrl.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/gadenbuie/sqrrl">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create <code>UPDATE</code> SQL statement</h1>
    </div>

    
    <p>Creates an UPDATE SQL statement for single or multiple tables. The first
argument is always the table name(s), where a named vector can be used to set
table aliases. Additional arguments must be named and are parsed into the
<code>SET</code> SQL statement. Argument names reference columns and the assigned values
are used as values in the <code>SET</code> statement and will be quoted -- for example
<code>a = 'b'</code> returns <code>'SET a="b"'</code>. To escape quoting, use <code>~</code>, and anything
after the <code>~</code> will be added directly to the statement -- <code>a = ~b</code> returns
<code>a=b</code>. <code>WHERE</code> conditions can be added via the optional <code>.where</code> argument,
but it is easier to simply add the where clause after the UPDATE with
<a href='general.html'>WHERE</a>. The same applies for <a href='general.html'>ORDER_BY</a> and <a href='general.html'>LIMIT</a> conditions.</p>
    

    <pre class="usage"><span class='fu'>UPDATE</span>(<span class='no'>`_tables`</span>, <span class='no'>...</span>, <span class='kw'>.where</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>.ignore</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>UPDATE_</span>(<span class='no'>`_tables`</span>, <span class='no'>set_vars</span>, <span class='kw'>.where</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>.ignore</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Column names and associated values. Each argument should be
single-valued. Use <code>~</code> to escape quoting: anything after the <code>~</code> character
will be added literally as written to the statment. This can be used to
escape SQL commands.</p></td>
    </tr>
    <tr>
      <th>.where</th>
      <td><p>Conditions passed on to <code>WHERE</code> clause (optional)</p></td>
    </tr>
    <tr>
      <th>.ignore</th>
      <td><p>Add <code>IGNORE</code> keyword to <code>UPDATE</code> clause</p></td>
    </tr>
    <tr>
      <th>set_vars</th>
      <td><p>Named list of columns and values. Each list entry can have
only one value. Entries starting with <code>~</code> will be escaped from quoting.</p></td>
    </tr>
    <tr>
      <th>`_tables`</th>
      <td><p>Vector of table name(s) for update (vector names are used as
aliases). Should be specified as the first entry, the odd parameter name is
used to avoid collisions with column names specified in <code>...</code>.</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>UPDATE</span>(<span class='st'>'t1'</span>, <span class='kw'>col1</span> <span class='kw'>=</span> <span class='st'>'a'</span>)</div><div class='output co'>#&gt; [1] "UPDATE t1  SET col1=\"a\""</div><div class='input'><span class='fu'>UPDATE</span>(<span class='st'>'t1'</span>, <span class='kw'>col1</span> <span class='kw'>=</span> ~<span class='no'>col2</span> * <span class='fl'>1.25</span>)</div><div class='output co'>#&gt; [1] "UPDATE t1  SET col1=col2 * 1.25"</div><div class='input'><span class='fu'>UPDATE</span>(<span class='st'>'t1'</span>, <span class='kw'>col1</span> <span class='kw'>=</span> <span class='st'>'a'</span>, <span class='kw'>col2</span> <span class='kw'>=</span> <span class='fl'>42</span>, <span class='kw'>.where</span> <span class='kw'>=</span> <span class='st'>'id'</span> <span class='kw'>%IN%</span> <span class='fl'>1</span>:<span class='fl'>5</span>)</div><div class='output co'>#&gt; [1] "UPDATE t1  SET col1=\"a\", col2=42 WHERE id IN (1, 2, 3, 4, 5)"</div><div class='input'><span class='fu'>UPDATE</span>(<span class='st'>'t1'</span>, <span class='kw'>col1</span> <span class='kw'>=</span> <span class='st'>'a'</span>, <span class='kw'>col2</span> <span class='kw'>=</span> <span class='fl'>42</span>) <span class='kw'>%+%</span> <span class='fu'><a href='general.html'>WHERE</a></span>(<span class='st'>'id'</span> <span class='kw'>%IN%</span> <span class='fl'>1</span>:<span class='fl'>5</span>)</div><div class='output co'>#&gt; [1] "UPDATE t1  SET col1=\"a\", col2=42 WHERE id IN (1, 2, 3, 4, 5)"</div><div class='input'><span class='fu'>UPDATE</span>(<span class='st'>'iris'</span>, <span class='kw'>some_column</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>some_other_col</span> <span class='kw'>=</span> <span class='st'>"high"</span>) <span class='kw'>%+%</span> <span class='fu'><a href='general.html'>WHERE</a></span>(<span class='fu'><a href='comparison.html'>eq</a></span>(<span class='kw'>another_col</span> <span class='kw'>=</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; [1] "UPDATE iris  SET some_column=1, some_other_col=\"high\" WHERE another_col=2"</div><div class='input'><span class='fu'>UPDATE</span>(<span class='st'>'t'</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~<span class='no'>id</span> + <span class='fl'>1</span>) <span class='kw'>%+%</span> <span class='fu'><a href='general.html'>ORDER_BY</a></span>(<span class='fu'><a href='general.html'>DESC</a></span>(<span class='st'>'id'</span>))</div><div class='output co'>#&gt; [1] "UPDATE t  SET id=id + 1 ORDER BY id DESC"</div><div class='input'>
<span class='co'># Multiple tables</span>
<span class='fu'>UPDATE</span>(<span class='fu'>c</span>(<span class='st'>'items'</span>, <span class='st'>'month'</span>), <span class='kw'>items.price</span> <span class='kw'>=</span> ~<span class='no'>month.price</span>, <span class='kw'>.where</span> <span class='kw'>=</span> <span class='fu'><a href='comparison.html'>eq</a></span>(<span class='kw'>items.id</span> <span class='kw'>=</span> ~<span class='no'>month.id</span>))</div><div class='output co'>#&gt; [1] "UPDATE items , month  SET items.price=month.price WHERE items.id=month.id"</div><div class='input'><span class='fu'>UPDATE</span>(<span class='fu'>c</span>(<span class='st'>'items'</span>, <span class='st'>'month'</span>), <span class='kw'>items.price</span> <span class='kw'>=</span> ~<span class='no'>month.price</span>) <span class='kw'>%+%</span> <span class='fu'><a href='general.html'>WHERE</a></span>(<span class='fu'><a href='comparison.html'>eq</a></span>(<span class='kw'>items.id</span> <span class='kw'>=</span> ~<span class='no'>month.id</span>))</div><div class='output co'>#&gt; [1] "UPDATE items , month  SET items.price=month.price WHERE items.id=month.id"</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://garrickadenbuie.com'>Garrick Aden-Buie</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
